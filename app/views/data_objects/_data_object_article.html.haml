- data_object ||= @data_object
- show_view_source ||= 'true'
- unless data_object.nil? || data_object.description.empty? || data_object.description.blank?
  - show_references = true if show_references.nil?
  .copy
    = data_object.description.balance_tags
  - tr_source = data_object.translation_source
  - if tr_source && show_view_source=='true'
    = I18n.t(:translated_from) 
    = tr_source.language.display_code
    = link_to I18n.t(:view_translation_source_link), set_language_url(:language => tr_source.language.iso_639_1)+"&return_to=/data_objects/#{tr_source.id}" 
  
  - if show_references && ! data_object.refs.blank?
    .references
      %ul
        - if defined? $REFERENCE_PARSING_ENABLED
          - ref_class = 'biblio-entry' if $REFERENCE_PARSING_ENABLED
        - else
          - parameter = SiteConfigurationOption.find_by_parameter('reference_parsing_enabled')
          - ref_class = 'biblio-entry' if parameter && parameter.value == 'true'
        - data_object.published_refs.each do |ref|
          %li{:class => ref_class, :ref_id => ref.id}
            = ref.full_reference.balance_tags
            - ref.ref_identifiers.each do |identifier|
              - next unless identifier.display?
              &emsp;
              = external_link_to(identifier.identifier, identifier.link_to_identifier)
