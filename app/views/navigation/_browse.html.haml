= javascript_include_tag 'navigation.js' # TODO - this should probably be done merged.
%div#hierarchy_browser
  %ul#hierarchy_browser_list.branch
    - unless @hierarchy_entry.nil?
      %b
        =I18n.t("browsing_branch_colon")
      - ancestors = @hierarchy_entry.ancestors
      - hierarchy_entry = ancestors.pop
      = render(:partial => 'navigation/node_with_ancestry', :locals => { :ancestors => ancestors, :hierarchy_entry => hierarchy_entry })
    %br
    %b
      =I18n.t("hierarchy_roots_colon")
    - for kingdom in @hierarchy.kingdoms
      %li.node
        = render(:partial => 'navigation/node_name', :locals => { :hierarchy_entry => kingdom })
